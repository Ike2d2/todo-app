"use strict";let selected=0;function setSelected(e){selected=e,renderAll()}let listEdit=null;function setListEdit(e){listEdit=e,renderAll()}let taskEdit=null;function setTaskEdit(e){taskEdit=e,renderAll()}let listItems=[];function renderList(){const u=document.getElementById("todoList");u.innerHTML=null,listItems.forEach((e,t)=>{var d=document.createElement("div");if(d.className="flex h-20 w-full flex-shrink-0 px-3"+(t===selected?" selected":""),d.addEventListener("click",()=>{setSelected(t)}),listEdit===t){var n=document.createElement("div");n.className="flex items-center justify-center h-full w-full";const o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("placeholder","Enter List Title..."),o.addEventListener("click",e=>{e.stopPropagation()}),o.addEventListener("blur",()=>setListEdit(null)),o.addEventListener("keypress",e=>{"Enter"===e.key&&(""!==o.value&&(listItems[t].title=o.value),o.blur(),setSelected(t))}),o.className="px-2 h-8 font-bold bg-secondary dark:bg-primary border-2 border-lighter dark:border-darker outline-none",n.append(o),d.append(n),u.append(d),o.focus()}else{var n=document.createElement("div"),i=(n.className="flex flex-col grow items-start",document.createElement("span")),l=(i.className="font-bold text-lg",i.innerText=e.title,document.createElement("span")),e=(l.innerText=e.items[0]?e.items[0].t:"",document.createElement("div")),s=(e.className="buttons flex items-center justify-center text-3xl",document.createElement("button")),r=document.createElement("i"),r=(r.className="ri-edit-line",s.addEventListener("click",e=>{e.stopPropagation(),setListEdit(t)}),s.append(r),document.createElement("button")),c=document.createElement("i");c.className="ri-delete-bin-6-line",r.addEventListener("click",e=>{e.stopPropagation(),removeListItem(t)}),r.append(c),n.append(i,l),e.append(s,r),d.append(n,e),u.append(d)}})}function renderMain(){var e=document.getElementById("mainHeadSpan");const u=document.getElementById("ul");var t=listItems[selected];u.innerHTML=null,e.innerText=0!==listItems.length?t.title:"",t.items.forEach((t,d)=>{var e=document.createElement("div");if(e.className="flex h-20 w-full flex-shrink-0 px-3",taskEdit===d){var n=document.createElement("div");n.className="flex items-center justify-start h-full w-full";const o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("placeholder","Enter Task Name..."),o.addEventListener("click",e=>{e.stopPropagation()}),o.addEventListener("blur",()=>setTaskEdit(null)),o.addEventListener("keypress",e=>{"Enter"===e.key&&(""!==o.value&&(t.t=o.value),o.blur())}),o.className="px-2 h-8 font-bold bg-secondary dark:bg-primary border-2 border-lighter dark:border-darker outline-none w-full",n.append(o),e.append(n),u.append(e),o.focus()}else{var n=document.createElement("div"),i=(n.className="flex grow items-center",document.createElement("span")),l=(i.className="font-bold text-lg",i.innerText=t.t,document.createElement("div")),s=(l.className="buttons flex items-center justify-center text-3xl",document.createElement("button")),r=document.createElement("i"),r=(r.className="ri-edit-line",s.addEventListener("click",e=>{e.stopPropagation(),setTaskEdit(d)}),s.append(r),document.createElement("button")),c=document.createElement("i");c.className="ri-delete-bin-6-line",r.addEventListener("click",e=>{e.stopPropagation(),removeTaskItem(d)}),r.append(c),n.append(i),l.append(s,r),e.append(n,l),u.append(e)}})}const addTask=document.getElementById("addTask");function addListItem(){0===listItems.length&&addTask.classList.toggle("hidden"),listItems.push({title:"untitled "+listItems.length,items:[]}),setListEdit(listItems.length-1)}function removeListItem(d){var e=listItems.filter((e,t)=>t!==d);0===(listItems=e).length&&addTask.classList.toggle("hidden"),selected===d?setSelected(0):renderAll()}function removeTaskItem(d){var e=listItems[selected].items.filter((e,t)=>t!==d);listItems[selected].items=e,renderMain()}function addTaskItem(){listItems[selected].items.push({t:"untitled task",done:!1}),setTaskEdit(listItems[selected].items.length-1)}document.getElementById("addList").addEventListener("click",addListItem),addTask.addEventListener("click",addTaskItem);const darkMode=document.getElementById("darkMode");function renderAll(){renderList(),renderMain()}darkMode.addEventListener("click",()=>{darkMode.classList.toggle("ri-sun-line"),darkMode.classList.toggle("ri-moon-line"),document.documentElement.classList.toggle("dark")});